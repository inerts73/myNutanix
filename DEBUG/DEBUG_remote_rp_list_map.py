import json

vm_rp_list_map = {
  "daccde3a-7071-4075-afdb-0879eeda6363": [
    "95187813-87da-48e4-90c5-68a903261c62"
  ],
  "6540f4ca-5c07-4204-be93-acf2039bd8ad": [
    "d266d34d-4217-496d-a194-532c865961e8"
  ]
}

results = [{'completed': True, 'result': {'vm_recovery_point_list': [{'vendor_specific_metadata_list': [{'vendor_id': u'NutanixCommon', 'vendor_metadata': {u'entity_intent_spec': {u'resources': {u'num_threads_per_core': 1, u'nic_list': [{u'nic_type': u'NORMAL_NIC', u'uuid': u'3908b541-5733-4514-8eb2-e0694c642eac', u'ip_endpoint_list': [{u'ip': u'10.45.235.84', u'type': u'LEARNED'}], u'vlan_mode': u'ACCESS', u'mac_address': u'50:6b:8d:ea:95:2b', u'subnet_reference': {u'kind': u'subnet', u'name': u'vlan0', u'uuid': u'6e6807dd-23a8-47ee-91f7-80cb4b383fdb'}, u'is_connected': True, u'trunked_vlan_list': []}], u'serial_port_list': [], u'is_agent_vm': False, u'num_vcpus_per_socket': 1, u'num_sockets': 1, u'enable_cpu_passthrough': False, u'gpu_list': [], u'memory_size_mib': 1024, u'power_state': u'ON', u'hardware_clock_timezone': u'UTC', u'vnuma_config': {u'num_vnuma_nodes': 0}, u'disable_branding': False, u'power_state_mechanism': {u'guest_transition_config': {u'should_fail_on_script_failure': False, u'enable_script_exec': False}, u'mechanism': u'HARD'}, u'vga_console_enabled': True, u'disk_list': [{u'uuid': u'6cf8ddb2-1ac0-4e00-bad7-cb9ed53ac58d', u'disk_size_bytes': 10737418240, u'storage_config': {u'storage_container_reference': {u'kind': u'storage_container', u'uuid': u'7436d995-9115-4a9d-9f3e-97255c3a59b3'}}, u'device_properties': {u'disk_address': {u'device_index': 0, u'adapter_type': u'SCSI'}, u'device_type': u'DISK'}, u'data_source_reference': {u'kind': u'image', u'uuid': u'e75c7dfa-404c-45ee-bcdd-b3df3a128b32'}, u'disk_size_mib': 10240}, {u'storage_config': {u'storage_container_reference': {u'kind': u'storage_container', u'uuid': u'7436d995-9115-4a9d-9f3e-97255c3a59b3'}}, u'device_properties': {u'disk_address': {u'device_index': 1, u'adapter_type': u'SCSI'}, u'device_type': u'DISK'}, u'disk_size_mib': 20480, u'disk_size_bytes': 21474836480, u'uuid': u'29a28645-34c1-4131-bb5e-9d3b22a5ed29'}]}, u'cluster_reference': {u'kind': u'cluster', u'name': u'auto_AdamHsu_Cluster_OneAV', u'uuid': u'00058770-b429-58ac-3cb3-ac1f6b6ef80e'}, u'name': u'D_TEST_1AV_0_0', u'description': u'My VM'}, u'entity_metadata': {u'last_update_time': u'2019-04-26T21:57:00Z', u'kind': u'vm', u'name': u'My VM', u'project_reference': {u'kind': u'project', u'name': u'default', u'uuid': u'551e760e-a550-4774-8d65-96443bad00b4'}, u'spec_version': 3, u'creation_time': u'2019-04-26T21:34:58Z', u'categories_mapping': {u'Category_Key_10.40.218.93_0': [u'Category_Value_10.40.218.93_0']}, u'owner_reference': {u'kind': u'user', u'name': u'admin', u'uuid': u'00000000-0000-0000-0000-000000000000'}, u'categories': {u'Category_Key_10.40.218.93_0': u'Category_Value_10.40.218.93_0'}, u'uuid': u'daccde3a-7071-4075-afdb-0879eeda6363'}}}], 'vm_generic_metadata': {'uefi_firmware': False, 'vm_num_threads_per_core': 1, 'hypervisor_type': u'kAHV', 'memory_size_bytes': 1073741824L, 'num_vcpus': 1, 'hardware_architecture': u'kX86_64', 'virtual_network_adapter_list': [{'vnic_uuid': u'3908b541-5733-4514-8eb2-e0694c642eac', 'network_uuid': u'6e6807dd-23a8-47ee-91f7-80cb4b383fdb', 'ip_address_list': [{'ipv4_address': u'10.45.235.84', 'ip_assignment_type': u'kLearned'}], 'label': u'', 'mac_address_type': u'kStatic', 'mac_address': u'50:6B:8D:EA:95:2B', 'model': u'', 'network_name': u'vlan0'}], 'power_state': u'kPoweredOn', 'cores_per_vcpu': 1}, 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kVM', 'uuid': u'daccde3a-7071-4075-afdb-0879eeda6363', 'name': u'D_TEST_1AV_0_0'}], 'location_agnostic_uuid': u'8cc3f673-1d21-4233-bf87-3f2a2a0a1980', 'description': u'', 'creation_time': 1556315974838013L, 'uuid': u'5a18f0e6-120d-42c0-b613-b318c96ea8ae', 'expiration_time': 3703799620637913L, 'metadata_creation_time': 1556316131925703L, 'name': u''}, 'disk_recovery_point_list': [{'generic_metadata': {'is_shared': False, 'device_index': 1, 'adapter_type': u'kSCSI', 'ancestor_disk_rpt_location_agnostic_uuid_list': [u'869fdf38-059e-4c33-ba12-71e03be44747'], 'capacity_bytes': 21474836480L, 'is_thin_provisioned': False}, 'vendor_specific_metadata_list': [], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kDisk', 'uuid': u'fb115b06-b594-4246-aedc-fa613d71c36c', 'name': u''}], 'location_agnostic_uuid': u'f25f2732-150a-4dff-b287-21655dab856a', 'description': u'', 'creation_time': 1556315974838013L, 'uuid': u'0a14fadd-7872-452f-8df5-c2b74cb99545', 'expiration_time': 3703799620637913L, 'metadata_creation_time': 1556316131925703L, 'name': u''}}, {'generic_metadata': {'is_shared': False, 'device_index': 0, 'adapter_type': u'kSCSI', 'ancestor_disk_rpt_location_agnostic_uuid_list': [u'95cb104a-c9a9-4b41-b831-e1e009386120'], 'capacity_bytes': 10737418240L, 'is_thin_provisioned': False}, 'vendor_specific_metadata_list': [], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kDisk', 'uuid': u'7459bd45-d52b-4714-805e-2b869fb3cdee', 'name': u''}], 'location_agnostic_uuid': u'95f629e0-255e-409d-b76b-a1eb2d1e6d52', 'description': u'', 'creation_time': 1556315974838013L, 'uuid': u'4f57347d-c6c2-433c-9008-03559efca423', 'expiration_time': 3703799620637913L, 'metadata_creation_time': 1556316131925703L, 'name': u''}}]}], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kVM', 'uuid': u'daccde3a-7071-4075-afdb-0879eeda6363', 'name': u'D_TEST_1AV_0_0'}], 'location_agnostic_uuid': u'269f314a-42ab-48d0-bb9b-20cd9974c8fb', 'description': u'', 'creation_time': 1556315974838013L, 'uuid': u'c30df23a-b89e-42eb-b596-c40c4ecb4d33', 'expiration_time': 3703799620637913L, 'metadata_creation_time': 1556316131925703L, 'name': u''}}, 'end_time': 1556316168}, {'completed': True, 'result': {'vm_recovery_point_list': [{'vendor_specific_metadata_list': [{'vendor_id': u'NutanixCommon', 'vendor_metadata': {u'entity_intent_spec': {u'resources': {u'num_threads_per_core': 1, u'nic_list': [{u'nic_type': u'NORMAL_NIC', u'uuid': u'490ab457-6d1f-40ad-a96d-8c3fa2652ee9', u'ip_endpoint_list': [{u'ip': u'10.45.224.91', u'type': u'LEARNED'}], u'vlan_mode': u'ACCESS', u'mac_address': u'50:6b:8d:c7:c7:fe', u'subnet_reference': {u'kind': u'subnet', u'name': u'vlan0', u'uuid': u'6e6807dd-23a8-47ee-91f7-80cb4b383fdb'}, u'is_connected': True, u'trunked_vlan_list': []}], u'serial_port_list': [], u'is_agent_vm': False, u'num_vcpus_per_socket': 1, u'num_sockets': 1, u'enable_cpu_passthrough': False, u'gpu_list': [], u'memory_size_mib': 1024, u'power_state': u'ON', u'hardware_clock_timezone': u'UTC', u'vnuma_config': {u'num_vnuma_nodes': 0}, u'disable_branding': False, u'power_state_mechanism': {u'guest_transition_config': {u'should_fail_on_script_failure': False, u'enable_script_exec': False}, u'mechanism': u'HARD'}, u'vga_console_enabled': True, u'disk_list': [{u'uuid': u'f75616fa-a560-4502-9e4a-c2906c244225', u'disk_size_bytes': 10737418240, u'storage_config': {u'storage_container_reference': {u'kind': u'storage_container', u'uuid': u'7436d995-9115-4a9d-9f3e-97255c3a59b3'}}, u'device_properties': {u'disk_address': {u'device_index': 0, u'adapter_type': u'SCSI'}, u'device_type': u'DISK'}, u'data_source_reference': {u'kind': u'image', u'uuid': u'e75c7dfa-404c-45ee-bcdd-b3df3a128b32'}, u'disk_size_mib': 10240}, {u'storage_config': {u'storage_container_reference': {u'kind': u'storage_container', u'uuid': u'7436d995-9115-4a9d-9f3e-97255c3a59b3'}}, u'device_properties': {u'disk_address': {u'device_index': 1, u'adapter_type': u'SCSI'}, u'device_type': u'DISK'}, u'disk_size_mib': 20480, u'disk_size_bytes': 21474836480, u'uuid': u'a0aea152-73bf-426c-97da-4af1161ce40d'}]}, u'cluster_reference': {u'kind': u'cluster', u'name': u'auto_AdamHsu_Cluster_OneAV', u'uuid': u'00058770-b429-58ac-3cb3-ac1f6b6ef80e'}, u'name': u'D_TEST_1AV_0_1', u'description': u'My VM'}, u'entity_metadata': {u'last_update_time': u'2019-04-26T21:57:01Z', u'kind': u'vm', u'name': u'My VM', u'project_reference': {u'kind': u'project', u'name': u'default', u'uuid': u'551e760e-a550-4774-8d65-96443bad00b4'}, u'spec_version': 3, u'creation_time': u'2019-04-26T21:34:58Z', u'categories_mapping': {u'Category_Key_10.40.218.93_0': [u'Category_Value_10.40.218.93_0']}, u'owner_reference': {u'kind': u'user', u'name': u'admin', u'uuid': u'00000000-0000-0000-0000-000000000000'}, u'categories': {u'Category_Key_10.40.218.93_0': u'Category_Value_10.40.218.93_0'}, u'uuid': u'6540f4ca-5c07-4204-be93-acf2039bd8ad'}}}], 'vm_generic_metadata': {'uefi_firmware': False, 'vm_num_threads_per_core': 1, 'hypervisor_type': u'kAHV', 'memory_size_bytes': 1073741824L, 'num_vcpus': 1, 'hardware_architecture': u'kX86_64', 'virtual_network_adapter_list': [{'vnic_uuid': u'490ab457-6d1f-40ad-a96d-8c3fa2652ee9', 'network_uuid': u'6e6807dd-23a8-47ee-91f7-80cb4b383fdb', 'ip_address_list': [{'ipv4_address': u'10.45.224.91', 'ip_assignment_type': u'kLearned'}], 'label': u'', 'mac_address_type': u'kStatic', 'mac_address': u'50:6B:8D:C7:C7:FE', 'model': u'', 'network_name': u'vlan0'}], 'power_state': u'kPoweredOn', 'cores_per_vcpu': 1}, 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kVM', 'uuid': u'6540f4ca-5c07-4204-be93-acf2039bd8ad', 'name': u'D_TEST_1AV_0_1'}], 'location_agnostic_uuid': u'f330035f-495f-4f00-a904-fcdce635dbbf', 'description': u'', 'creation_time': 1556315979841413L, 'uuid': u'2d602eb5-1074-48a8-89a4-2d4b570b6bd9', 'expiration_time': 3703799622603003L, 'metadata_creation_time': 1556316131891109L, 'name': u''}, 'disk_recovery_point_list': [{'generic_metadata': {'is_shared': False, 'device_index': 1, 'adapter_type': u'kSCSI', 'ancestor_disk_rpt_location_agnostic_uuid_list': [u'a4c7f443-5a7f-4b5a-a8b1-8ed9e1d178cd'], 'capacity_bytes': 21474836480L, 'is_thin_provisioned': False}, 'vendor_specific_metadata_list': [], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kDisk', 'uuid': u'16b67a66-7e3f-4f88-bab2-995582177cc9', 'name': u''}], 'location_agnostic_uuid': u'37b4f708-7fed-43e4-99f0-7d9fb0a44e38', 'description': u'', 'creation_time': 1556315979841413L, 'uuid': u'823b0407-3a6c-46a0-af5b-5ee2f208cb46', 'expiration_time': 3703799622603003L, 'metadata_creation_time': 1556316131891109L, 'name': u''}}, {'generic_metadata': {'is_shared': False, 'device_index': 0, 'adapter_type': u'kSCSI', 'ancestor_disk_rpt_location_agnostic_uuid_list': [u'8dc2c964-a3d4-4716-80e5-98d20c71b2fc'], 'capacity_bytes': 10737418240L, 'is_thin_provisioned': False}, 'vendor_specific_metadata_list': [], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kDisk', 'uuid': u'771f03a1-d0e8-45e3-8cb8-44f0b8ebd6d1', 'name': u''}], 'location_agnostic_uuid': u'b8ae9a8f-bd27-4247-83a2-7834fb085d8d', 'description': u'', 'creation_time': 1556315979841413L, 'uuid': u'ca6f9530-be07-4057-993c-687fdd6d4a39', 'expiration_time': 3703799622603003L, 'metadata_creation_time': 1556316131891109L, 'name': u''}}]}], 'properties': {'status': u'kComplete', 'live_entity_list': [{'type': u'kVM', 'uuid': u'6540f4ca-5c07-4204-be93-acf2039bd8ad', 'name': u'D_TEST_1AV_0_1'}], 'location_agnostic_uuid': u'51ccb64a-4bdd-427e-bd0b-3daf7d87c428', 'description': u'', 'creation_time': 1556315979841413L, 'uuid': u'7f8a8de9-cd1c-464b-bb96-b6929c23fc84', 'expiration_time': 3703799622603003L, 'metadata_creation_time': 1556316131891109L, 'name': u''}}, 'end_time': 1556316171}]

vm_new_rp_list_map = dict()
start_index = 0
for vm_uuid, rp_uuid_list in vm_rp_list_map.iteritems():
  end_index = start_index + len(rp_uuid_list)
  new_rp_uuid_list = list()
  # Fetch portion of results corresponding to given vm_uuid.
  for result in results[start_index: end_index]:
    # result["result"] contains newly received RP metadata in dict format.
    new_rp_uuid_list.append(result["result"]["properties"]["uuid"])
  vm_new_rp_list_map[vm_uuid] = new_rp_uuid_list
  start_index = end_index

print vm_new_rp_list_map

# print vm_to_rp_list_map
# print json.dumps(results, indent=2)